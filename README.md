# wakeUpDev

![Go Version](https://img.shields.io/badge/Go-1.25-blue.svg)
![Test Coverage](https://img.shields.io/badge/coverage-37.8%25-yellow.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

‚è∞ Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç **–æ–¥–Ω–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π** –≤ –≥—Ä—É–ø–ø—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤(–∏–ª–∏ –ª—é–±—É—é –¥—Ä—É–≥—É—é ü´°) –≤
–∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É —á–∞—Å–æ–≤–æ–º—É –ø–æ—è—Å—É

## üí° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:

- ‚è∞ –û–¥–Ω–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- üóÇ –ù–∞—Å—Ç—Ä–æ–π–∫—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —á–µ—Ä–µ–∑ `reminders.json`
- üìù HTML-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- üìÖ –ü—Ä–æ–ø—É—Å–∫ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–Ω–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚öôÔ∏è –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ –∏–ª–∏ –≤ –∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ
- üßæ –í–µ–¥–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –≤ `./logs/wakeUpDev.log`
- üê≥ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

## üì¶ –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥–∞ `reminders.json`

```json
[
  {
    "time": "10:00",
    "message": "‚òï <b>–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –∫–æ–º–∞–Ω–¥–∞!</b>"
  },
  {
    "time": "13:00",
    "message": "üçù –ü–æ—Ä–∞ –æ–±–µ–¥–∞—Ç—å, –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ—Ç–¥—ã—Ö–∞—Ç—å!"
  },
  {
    "time": "18:50",
    "message": "üìå –ó–∞–ø—É—à—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –¥–Ω—è!"
  }
]
```

## ‚öôÔ∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —Å–æ–∑–¥–∞–π—Ç–µ `.env`:

   ```bash
   make .env
   ```

   –ü—Ä–∏–º–µ—Ä `.env`:

   ```env
   BOT_TOKEN=your_telegram_bot_token
   REMINDERS_FILE=reminders.json
   GROUP_CHAT_ID=-1001234567890
   TIME_LOCATION="Europe/Moscow"
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `reminders.json` —Å –Ω—É–∂–Ω—ã–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º.

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

‚ñ∂Ô∏è **–í Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ (–µ—Å–ª–∏ Go –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–æ –µ—Å—Ç—å Docker)**:

   ```bash
   make docker-up
   ```

‚ñ∂Ô∏è **–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (–≤ —Ñ–æ–Ω–µ, –ª–æ–≥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ñ–∞–π–ª)**:

   ```bash
   make start
   ```

‚ñ∂Ô∏è **–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –ª–æ–≥ –≤ stdout)**:

   ```bash
   make run
   ```

4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ Telegram-–≥—Ä—É–ø–ø—É –∏ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è.

---

## üõ† –ö–æ–º–∞–Ω–¥—ã Makefile

| –ö–æ–º–∞–Ω–¥–∞            | –û–ø–∏—Å–∞–Ω–∏–µ                                          |
|--------------------|---------------------------------------------------|
| `make .env`        | –°–æ–∑–¥–∞–Ω–∏–µ `.env` –∏–∑ `.env.example`                 |
| `make test`        | –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤                                     |
| `make build`       | –°–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞                                  |
| `make start`       | –°–±–æ—Ä–∫–∞, –∑–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ, –ª–æ–≥ –≤ `logs/`              |
| `make run`         | –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤ –∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ (stdout)        |
| `make stop`        | –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ PID –∏–∑ `run/wakeUpDev.pid` |
| `make logs`        | –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ `logs/wakeUpDev.log`             |
| `make docker-up`   | –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —á–µ—Ä–µ–∑ Docker Compose   |
| `make docker-down` | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞                              |

---

## üõ† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Go 1.25+ –∏–ª–∏ Docker
* Telegram Bot API —Ç–æ–∫–µ–Ω
* ID –≥—Ä—É–ø–ø—ã –∏–ª–∏ —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø—ã (–≤ —Ñ–æ—Ä–º–∞—Ç–µ -100... –¥–ª—è —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –Ω–∞–±–æ—Ä unit-—Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
make test

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
go test -v -coverprofile=coverage.out .
go tool cover -html=coverage.out
```

**–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:** 37.8% (–æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: `parseHourMinute`, `truncate`, `loadReminders`, `mustParseInt64`, `isWeekend`)

---

–ï—Å–ª–∏ –≤—Å—ë –≥–æ—Ç–æ–≤–æ ‚Äî –∑–∞–ø—É—Å–∫–∞–π `make start` –∏–ª–∏ `make docker-up`, –∏ –±–æ—Ç —Å–∞–º –±—É–¥–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å –∫–æ–º–∞–Ω–¥–µ –æ –≤–∞–∂–Ω—ã—Ö –≤–µ—â–∞—Ö, –Ω–æ **–Ω–µ
–≤ –≤—ã—Ö–æ–¥–Ω—ã–µ** ‚úåÔ∏è
